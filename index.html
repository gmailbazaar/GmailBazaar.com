<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AccountBazaar.com - ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞</title>
    <style>
        /* All previous CSS styles remain unchanged */
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap');
        :root { --primary-color: #2a6df5; --secondary-color: #1a202c; --background-color: #f7fafc; --card-bg: #ffffff; --text-color: #4a5568; --heading-color: #1a202c; --border-color: #e2e8f0; --success-color: #48bb78; --danger-color: #f56565; }
        body { font-family: 'Hind Siliguri', sans-serif; background-color: var(--background-color); color: var(--text-color); margin: 0; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { background-color: var(--card-bg); border-bottom: 1px solid var(--border-color); padding: 15px 0; position: sticky; top: 0; z-index: 1000; }
        .navbar { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8em; font-weight: 700; color: var(--primary-color); text-decoration: none; }
        .nav-links a { color: var(--text-color); text-decoration: none; margin: 0 15px; font-weight: 500; transition: color 0.3s; cursor: pointer; }
        .nav-links a:hover, .nav-links a.active { color: var(--primary-color); }
        .user-balance { font-weight: 600; background-color: #e2e8f0; padding: 8px 15px; border-radius: 20px; color: var(--secondary-color); }
        .page { display: none; animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .btn { display: inline-block; padding: 12px 25px; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; text-decoration: none; transition: background-color 0.3s, transform 0.2s; }
        .btn-primary { background-color: var(--primary-color); color: white; }
        .btn-primary:hover { background-color: #1e5ad6; transform: translateY(-2px); }
        .btn-secondary { background-color: var(--secondary-color); color: white; }
        .btn-success { background-color: var(--success-color); color: white; }
        .btn-copy { background-color: #f0f0f0; color: var(--text-color); }
        .welcome-banner { background: linear-gradient(135deg, var(--primary-color), #5a8dff); color: white; text-align: center; padding: 80px 20px; border-radius: 12px; margin-bottom: 40px; }
        .welcome-banner h1 { font-size: 3em; margin: 0 0 10px 0; }
        .welcome-banner p { font-size: 1.2em; opacity: 0.9; margin-bottom: 30px; }
        .section-title { text-align: center; font-size: 2.2em; color: var(--heading-color); margin-bottom: 40px; }
        .benefits { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px; }
        .benefit-card { background-color: var(--card-bg); padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; }
        .benefit-card h3 { color: var(--heading-color); margin-top: 15px; }
        .benefit-card .icon { font-size: 3em; color: var(--primary-color); }
        .filters { background-color: var(--card-bg); padding: 20px; border-radius: 10px; margin-bottom: 30px; display: flex; flex-wrap: wrap; gap: 20px; align-items: center; }
        .filter-group { display: flex; flex-direction: column; }
        .filter-group label { font-weight: 500; margin-bottom: 5px; }
        .filter-group select, .filter-group input { padding: 10px; border: 1px solid var(--border-color); border-radius: 5px; min-width: 180px; }
        .account-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .account-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; }
        .account-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .account-card-header { display: flex; align-items: center; margin-bottom: 15px; }
        .account-card-header img { width: 40px; height: 40px; margin-right: 15px; }
        .account-card-header h3 { margin: 0; font-size: 1.2em; color: var(--heading-color); }
        .account-details-list { list-style: none; padding: 0; margin: 0 0 20px 0; flex-grow: 1; }
        .account-details-list li { margin-bottom: 10px; display: flex; justify-content: space-between; }
        .account-details-list li strong { color: var(--heading-color); }
        .account-price { font-size: 1.5em; font-weight: 700; color: var(--primary-color); margin-bottom: 15px; text-align: center; }
        .order-details, .dashboard-card { background-color: var(--card-bg); padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); max-width: 800px; margin: 40px auto; }
        .order-details h2, .dashboard-card h2 { text-align: center; color: var(--heading-color); margin-top: 0; }
        .order-info, .login-info { border: 1px dashed var(--border-color); padding: 20px; border-radius: 8px; margin-top: 20px; }
        .info-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
        .info-item:last-child { border-bottom: none; }
        .info-item-value { font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .action-buttons { display: flex; justify-content: center; gap: 15px; margin-top: 30px; }
        .content-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .form-card, .info-card { background: var(--card-bg); padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-weight: 600; margin-bottom: 8px; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 5px; box-sizing: border-box; }
        .payment-numbers { text-align: left; margin-bottom: 20px; border: 1px dashed var(--border-color); padding: 15px; border-radius: 8px; }
        .payment-numbers p { margin: 8px 0; font-size: 1.1em; }
        .table-container { margin-top: 20px; overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color); }
        th { background-color: #edf2f7; font-weight: 600; }
        .status-Pending { color: #dd6b20; font-weight: bold; }
        .status-Completed { color: var(--success-color); font-weight: bold; }
        .status-Rejected { color: var(--danger-color); font-weight: bold; }
        .live-chat-btn { position: fixed; bottom: 30px; right: 30px; background-color: var(--primary-color); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 24px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); cursor: pointer; z-index: 1001; text-decoration: none;}
        #authContainer { display: flex; justify-content: center; align-items: center; min-height: 80vh; }
        .auth-card { background-color: var(--card-bg); padding: 40px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        .auth-card h2 { text-align: center; margin-top: 0; margin-bottom: 25px; color: var(--heading-color); }
        .auth-toggle-link { text-align: center; margin-top: 20px; }
        .auth-toggle-link a { color: var(--primary-color); font-weight: 600; cursor: pointer; }
        #loginForm, #registerForm, #resetPasswordForm { display: none; }
        #loginForm.active, #registerForm.active, #resetPasswordForm.active { display: block; }
        #mainApp { display: none; }
        #logoutBtn { color: var(--danger-color); }
        @media (max-width: 768px) { .navbar { flex-direction: column; gap: 10px; } .content-grid { grid-template-columns: 1fr; } .filters { flex-direction: column; align-items: stretch; } .welcome-banner h1 { font-size: 2.2em; } }
    </style>
</head>
<body>
    
    <div id="authContainer">
        <div class="auth-card">
            <form id="loginForm" class="active">
                <h2>‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                <div class="form-group"><label for="loginEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label><input type="email" id="loginEmail" required></div>
                <div class="form-group"><label for="loginPassword">‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°</label><input type="password" id="loginPassword" required></div>
                <button type="submit" class="btn btn-primary" style="width:100%;">‡¶≤‡¶ó‡¶á‡¶®</button>
                <p class="auth-toggle-link"><a onclick="showAuthForm('resetPasswordForm')">‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡¶®?</a></p>
                <p class="auth-toggle-link">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á? <a onclick="showAuthForm('registerForm')">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</a></p>
            </form>
            <form id="registerForm">
                <h2>‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                 <div class="form-group"><label for="registerName">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</label><input type="text" id="registerName" required></div>
                <div class="form-group"><label for="registerEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label><input type="email" id="registerEmail" required></div>
                <div class="form-group"><label for="registerPassword">‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°</label><input type="password" id="registerPassword" required></div>
                <button type="submit" class="btn btn-primary" style="width:100%;">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</button>
                <p class="auth-toggle-link">‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá? <a onclick="showAuthForm('loginForm')">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</a></p>
            </form>
            <form id="resetPasswordForm">
                <h2>‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</h2>
                <p style="text-align: center; font-size: 0.9em; margin-bottom: 20px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶è‡¶°‡ßç‡¶∞‡ßá‡¶∏ ‡¶¶‡¶ø‡¶®, ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßã‡•§</p>
                <div class="form-group"><label for="resetEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label><input type="email" id="resetEmail" required></div>
                <button type="submit" class="btn btn-primary" style="width:100%;">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
                <p class="auth-toggle-link"><a onclick="showAuthForm('loginForm')">‡¶≤‡¶ó‡¶á‡¶®‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a></p>
            </form>
        </div>
    </div>

    <div id="mainApp">
        <header>
            <div class="container navbar">
                <a class="logo" onclick="showPage('home')">AccountBazaar.com</a>
                <nav class="nav-links">
                    <a class="nav-link active" onclick="showPage('home', this)">‡¶π‡ßã‡¶Æ</a>
                    <a class="nav-link" onclick="showPage('market', this)">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü</a>
                    <a class="nav-link" onclick="showPage('deposit', this)">‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü</a>
                    <a class="nav-link" onclick="showPage('referral', this)">‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤</a>
                    <a class="nav-link" onclick="showPage('dashboard', this)">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</a>
                    <a id="logoutBtn" onclick="logoutUser()">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</a>
                </nav>
                <div class="user-balance" id="userBalanceDisplay">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ‡ß≥0</div>
            </div>
        </header>
        <main class="container">
            <section id="home" class="page active">
                <div class="welcome-banner"><h1 id="welcomeUser">AccountBazaar.com ‡¶è ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ</h1><p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶∏‡¶ï‡¶≤ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶ì ‡¶™‡ßÅ‡¶∞‡¶æ‡¶§‡¶® ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ï‡¶ø‡¶®‡ßÅ‡¶® ‡¶∏‡¶π‡¶ú‡ßá‡¶á‡•§</p><button class="btn btn-secondary" onclick="showPage('market')">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</button></div>
                <h2 class="section-title">‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶∏</h2><div id="featuredAccounts" class="account-list"></div>
                <div class="benefits">
                    <div class="benefit-card"><div class="icon">‚úîÔ∏è</div><h3>‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶ì ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶</h3><p>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡¶ø‡¶Æ ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§</p></div>
                    <div class="benefit-card"><div class="icon">‚ö°</div><h3>‡¶§‡¶æ‡¶§‡ßç‡¶ï‡ßç‡¶∑‡¶£‡¶ø‡¶ï ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</h3><p>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá‡¶á ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßá‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡¶®‡•§</p></div>
                    <div class="benefit-card"><div class="icon">üí¨</div><h3>‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</h3><p>‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡ßü ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶Æ ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá ‡¶Ü‡¶õ‡ßá‡•§</p></div>
                </div>
            </section>
            <section id="market" class="page">
                <h2 class="section-title">‡¶∏‡¶ï‡¶≤ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</h2>
                <div class="filters">
                    <div class="filter-group"><label for="filterType">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™</label><select id="filterType"><option value="all">‡¶∏‡¶¨</option><option value="Gmail">Gmail</option><option value="Facebook">Facebook</option><option value="Instagram">Instagram</option></select></div>
                    <div class="filter-group"><label for="filterAge">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¨‡ßü‡¶∏</label><select id="filterAge"><option value="all">‡¶∏‡¶¨</option><option value="2010-2015">2010-2015</option><option value="2016-2020">2016-2020</option><option value="2021-2023">2021-2023</option></select></div>
                    <div class="filter-group"><label for="filterPrice">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö)</label><input type="range" id="filterPrice" min="100" max="5000" step="100" value="5000"><span id="priceValue">‡ß≥5000</span></div>
                </div><div id="accountList" class="account-list"></div>
            </section>
            <section id="orderDetails" class="page">
                <div class="order-details">
                    <h2 style="color: var(--success-color);">üéâ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá! üéâ</h2><p style="text-align:center;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡¶ø‡¶ö‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã‡•§</p>
                    <div class="order-info"><h3>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</h3><div class="info-item"><span>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø:</span><span id="orderId" class="info-item-value"></span></div><div class="info-item"><span>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</span><span id="orderPrice" class="info-item-value"></span></div></div>
                    <div class="login-info"><h3>‡¶≤‡¶ó‡¶á‡¶® ‡¶§‡¶•‡ßç‡¶Ø</h3><div class="info-item"><span>‡¶á‡¶Æ‡ßá‡¶á‡¶≤/‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ:</span><div class="info-item-value"><span id="orderEmail"></span><button class="btn btn-copy" onclick="copyToClipboard('orderEmail')">‡¶ï‡¶™‡¶ø</button></div></div><div class="info-item"><span>‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°:</span><div class="info-item-value"><span id="orderPassword"></span><button class="btn btn-copy" onclick="copyToClipboard('orderPassword')">‡¶ï‡¶™‡¶ø</button></div></div></div>
                    <div class="action-buttons"><button class="btn btn-primary" onclick="showPage('dashboard')">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶Ø‡¶æ‡¶®</button><a id="goToLoginBtn" href="#" target="_blank" class="btn btn-success">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ø‡¶æ‡¶®</a></div>
                </div>
            </section>
            <section id="deposit" class="page">
                <h2 class="section-title">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ü‡¶™-‡¶Ü‡¶™</h2>
                <div class="content-grid">
                    <div class="form-card">
                        <h3>‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h3><p>‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                        <div class="payment-numbers"><p id="bkashNumberText"></p><p id="nagadNumberText"></p><p id="rocketNumberText"></p></div>
                        <form id="depositForm"><div class="form-group"><label for="depositAmount">‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</label><input type="number" id="depositAmount" placeholder="e.g., 500" required></div><div class="form-group"><label for="transactionId">‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø</label><input type="text" id="transactionId" required></div><button type="submit" class="btn btn-primary">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button></form>
                    </div><div class="info-card"><h3>‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø</h3><div class="table-container"><table id="depositHistoryTable"><thead><tr><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th><th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th><th>TrxID</th><th>‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</th></tr></thead><tbody></tbody></table></div></div>
                </div>
            </section>
            <section id="referral" class="page">
                <h2 class="section-title">‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ</h2>
                 <div class="content-grid">
                     <div class="info-card">
                         <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï</h3><p>‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤‡ßá ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ú‡¶ø‡¶§‡ßÅ‡¶®!</p>
                         <div class="form-group"><input type="text" id="referralLink" value="" readonly></div>
                         <button class="btn btn-primary" onclick="copyToClipboard('referralLink')">‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                         <div style="margin-top: 20px;"><h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</h3><p><strong>‡¶Æ‡ßã‡¶ü ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá:</strong> <span id="refJoins">0 ‡¶ú‡¶®</span></p><p><strong>‡¶Æ‡ßã‡¶ü ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ:</strong> <span id="refIncome">‡ß≥0</span></p></div>
                     </div><div class="info-card"><h3>‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø</h3><div class="table-container"><table><thead><tr><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th><th>‡¶á‡¶â‡¶ú‡¶æ‡¶∞</th><th>‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</th></tr></thead><tbody id="referralHistoryBody"></tbody></table></div></div>
                 </div>
            </section>
            <section id="dashboard" class="page">
                <h2 class="section-title">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
                <div class="dashboard-card">
                    <h3 id="dashboardWelcome">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</h3>
                    <div class="info-item"><span>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏:</span><span id="dashboardBalance" class="info-item-value" style="font-size: 1.5em; color: var(--primary-color);"></span></div>
                    <div class="info-item"><span>‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ:</span><span id="dashboardRefIncome" class="info-item-value"></span></div>
                    <hr style="margin: 20px 0; border-color: var(--border-color);"><h3_>‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßá‡¶®‡¶æ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶∏‡¶Æ‡ßÇ‡¶π</h3>
                    <div id="purchasedAccountsList"><p>‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ï‡ßá‡¶®‡ßá‡¶®‡¶®‡¶ø‡•§</p></div>
                    <h3 style="margin-top: 30px;">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø</h3>
                    <div class="table-container"><table id="orderHistoryTable"><thead><tr><th>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø</th><th>‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</th><th>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th></tr></thead><tbody></tbody></table></div>
                </div>
            </section>
        </main>
        <a id="liveChatBtn" href="#" target="_blank" class="live-chat-btn">üí¨</a>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
        import { getDatabase, ref, set, onValue, get, update, push, serverTimestamp, query, orderByChild, equalTo } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyB8AHgdhU6-1pK3Lf_bxtLpZBXkye2epWQ",
            authDomain: "accbazar-65b81.firebaseapp.com",
            databaseURL: "https://accbazar-65b81-default-rtdb.firebaseio.com",
            projectId: "accbazar-65b81",
            storageBucket: "accbazar-65b81.appspot.com",
            messagingSenderId: "424809972878",
            appId: "1:424809972878:web:6f2c76db0cec28a8dfb5df",
            measurementId: "G-YR9GDTB94J"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);
        
        // Global variables & UI Containers
        let allAccountsForSale = [], currentUser = null, userProfile = {}, siteSettings = {};
        const authContainer = document.getElementById('authContainer');
        const mainApp = document.getElementById('mainApp');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const resetPasswordForm = document.getElementById('resetPasswordForm');
        
        // Auth Form Toggling
        window.showAuthForm = (formId) => {
            [loginForm, registerForm, resetPasswordForm].forEach(form => form.classList.remove('active'));
            document.getElementById(formId).classList.add('active');
        };

        // --- AUTHENTICATION ---
        onAuthStateChanged(auth, user => {
            currentUser = user;
            if (user) {
                authContainer.style.display = 'none';
                mainApp.style.display = 'block';
                loadInitialData(user.uid);
            } else {
                showAuthForm('loginForm');
                authContainer.style.display = 'flex';
                mainApp.style.display = 'none';
            }
        });
        
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = registerForm.registerName.value;
            const email = registerForm.registerEmail.value;
            const password = registerForm.registerPassword.value;
            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                const referrerId = new URLSearchParams(window.location.search).get("ref");
                
                await set(ref(db, 'users/' + user.uid), {
                    name, email, balance: 0, referralIncome: 0, createdAt: serverTimestamp(), referrerId: referrerId || null
                });

                if (referrerId && siteSettings.referralBonus && siteSettings.referralBonus > 0) {
                    const referrerRef = ref(db, `users/${referrerId}`);
                    const snapshot = await get(referrerRef);
                    if (snapshot.exists()) {
                        const referrerData = snapshot.val();
                        const bonus = parseFloat(siteSettings.referralBonus);
                        const updates = {
                            balance: (referrerData.balance || 0) + bonus,
                            referralIncome: (referrerData.referralIncome || 0) + bonus
                        };
                        await update(referrerRef, updates);
                        await set(push(ref(db, `users/${referrerId}/referralHistory`)), {
                            referredUserId: user.uid, referredUserName: name, bonusAmount: bonus, timestamp: serverTimestamp()
                        });
                    }
                }
                alert('‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
            } catch (error) {
                alert(`‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: ${error.message}`);
            }
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            signInWithEmailAndPassword(auth, loginForm.loginEmail.value, loginForm.loginPassword.value)
                .catch(error => alert(`‡¶≤‡¶ó‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: ${error.message}`));
        });

        resetPasswordForm.addEventListener('submit', (e) => {
            e.preventDefault();
            sendPasswordResetEmail(auth, resetPasswordForm.resetEmail.value)
                .then(() => {
                    alert('‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§');
                    showAuthForm('loginForm');
                })
                .catch((error) => alert(`‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${error.message}`));
        });

        window.logoutUser = () => {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) signOut(auth);
        };
        
        // --- DATA HANDLING & UI ---
        function loadInitialData(uid) {
            onValue(ref(db, "settings"), (snapshot) => {
                siteSettings = snapshot.exists() ? snapshot.val() : {};
                document.getElementById("liveChatBtn").href = siteSettings.supportLink || "#";
                const { bkash, nagad, rocket } = siteSettings.depositNumbers || {};
                document.getElementById("bkashNumberText").innerText = bkash ? `‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂: ${bkash}` : "";
                document.getElementById("nagadNumberText").innerText = nagad ? `‡¶®‡¶ó‡¶¶: ${nagad}` : "";
                document.getElementById("rocketNumberText").innerText = rocket ? `‡¶∞‡¶ï‡ßá‡¶ü: ${rocket}` : "";
            });
            onValue(ref(db, "users/" + uid), (snapshot) => {
                if (snapshot.exists()) {
                    userProfile = { id: snapshot.key, ...snapshot.val() };
                    updateAllUI();
                    renderReferralHistory();
                }
            });
            onValue(ref(db, "accounts"), (snapshot) => {
                const data = snapshot.val();
                allAccountsForSale = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
                filterAccounts();
            });
            const depositsQuery = query(ref(db, 'deposits'), orderByChild('userId'), equalTo(uid));
            onValue(depositsQuery, s => renderHistory(s, 'depositHistoryTable', formatDepositRow));
            const ordersQuery = query(ref(db, 'orders'), orderByChild('userId'), equalTo(uid));
            onValue(ordersQuery, s => renderHistory(s, 'orderHistoryTable', formatOrderRow));
        }
        function updateAllUI() {
            if (!currentUser || !userProfile) return;
            document.getElementById("userBalanceDisplay").innerText = `‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ‡ß≥${userProfile.balance || 0}`;
            document.getElementById("welcomeUser").innerText = `${userProfile.name}, ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!`;
            updateDashboard();
            document.getElementById("refIncome").innerText = `‡ß≥${userProfile.referralIncome || 0}`;
            document.getElementById("referralLink").value = `${window.location.origin}${window.location.pathname}?ref=${currentUser.uid}`;
            onValue(ref(db, `users/${currentUser.uid}/referralHistory`), (snapshot) => {
                 document.getElementById("refJoins").innerText = snapshot.exists() ? `${snapshot.size} ‡¶ú‡¶®` : "0 ‡¶ú‡¶®";
            });
        }
        function updateDashboard() {
            if (!userProfile) return;
            document.getElementById("dashboardWelcome").innerText = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${userProfile.name}!`;
            document.getElementById("dashboardBalance").innerText = `‡ß≥${userProfile.balance || 0}`;
            document.getElementById("dashboardRefIncome").innerText = `‡ß≥${userProfile.referralIncome || 0}`;
            const purchasedListDiv = document.getElementById("purchasedAccountsList");
            if (userProfile.purchasedAccounts && Object.keys(userProfile.purchasedAccounts).length > 0) {
                purchasedListDiv.innerHTML = '<ul style="list-style-type: disc; padding-left: 20px;">';
                Object.values(userProfile.purchasedAccounts).forEach(acc => {
                    purchasedListDiv.innerHTML += `<li>${acc.type} ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü (${acc.email}) - ‡¶ï‡ßá‡¶®‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡ß≥${acc.price} ‡¶¶‡¶ø‡ßü‡ßá</li>`;
                });
                purchasedListDiv.innerHTML += "</ul>";
            } else {
                purchasedListDiv.innerHTML = "<p>‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ï‡ßá‡¶®‡ßá‡¶®‡¶®‡¶ø‡•§</p>";
            }
        }
        
        window.showPage=(pageId,navLink)=>{document.querySelectorAll(".page").forEach(e=>e.classList.remove("active")),document.getElementById(pageId).classList.add("active"),navLink&&(document.querySelectorAll(".nav-link").forEach(e=>e.classList.remove("active")),navLink.classList.add("active")),"dashboard"===pageId&&updateDashboard()};
        window.copyToClipboard=elementId=>{const el=document.getElementById(elementId);const text=el.value||el.innerText;navigator.clipboard.writeText(text).then(()=>alert("‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!"))};
        const getAccountIcon=type=>{const icons={Gmail:"7/7e/Gmail_icon_%282020%29.svg",Facebook:"b/b8/2021_Facebook_icon.svg",Instagram:"a/a5/Instagram_icon.png"};return`https://upload.wikimedia.org/wikipedia/commons/${icons[type]||"e/e1/Generic_logo.svg"}`};
        const renderAccounts=accountsToRender=>{const accountListDiv=document.getElementById("accountList"),featuredAccountsDiv=document.getElementById("featuredAccounts");accountListDiv.innerHTML="",featuredAccountsDiv.innerHTML="";if(0===accountsToRender.length){accountListDiv.innerHTML="<p>‡¶è‡¶á ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§</p>"; return;} accountsToRender.forEach(acc=>{const cardHTML=`<div class="account-card"><div class="account-card-header"><img src="${getAccountIcon(acc.type)}" alt="${acc.type} logo"><h3>${acc.type} ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</h3></div><ul class="account-details-list"><li><span>‡¶á‡¶Æ‡ßá‡¶á‡¶≤:</span> <strong>${acc.email.substring(0,5)}...${acc.email.substring(acc.email.indexOf("@"))}</strong></li><li><span>‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°:</span> <strong>*********</strong></li><li><span>‡¶¨‡ßü‡¶∏:</span> <strong>${acc.age}</strong></li><li><span>‡¶∞‡¶ø‡¶ï‡¶≠‡¶æ‡¶∞‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§:</span> <strong>${acc.recovery?"‡¶π‡ßç‡¶Ø‡¶æ‡¶Å":"‡¶®‡¶æ"}</strong></li></ul><div class="account-price">‡ß≥${acc.price}</div><button class="btn btn-primary" onclick="buyNow('${acc.id}')">‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button></div>`;accountListDiv.innerHTML+=cardHTML;if(acc.featured)featuredAccountsDiv.innerHTML+=cardHTML})};
        window.filterAccounts=()=>{const type=document.getElementById("filterType").value,ageRange=document.getElementById("filterAge").value,price=document.getElementById("filterPrice").value;document.getElementById("priceValue").innerText=`‡ß≥${price}`;const [minAge, maxAge] = ageRange.split('-').map(Number); const filtered=allAccountsForSale.filter(acc=>("all"===type||acc.type===type)&&acc.price<=price&&("all"===ageRange||(acc.age>=minAge&&acc.age<=maxAge)));renderAccounts(filtered)};
        window.buyNow=async accountId=>{const accountToBuy=allAccountsForSale.find(a=>a.id===accountId);if(!accountToBuy)return alert("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶®‡ßá‡¶á‡•§");if(userProfile.balance<accountToBuy.price)return alert("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶®‡ßá‡¶á‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");if(confirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡ß≥${accountToBuy.price} ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶á ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶ï‡¶ø‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`)){const newBalance=userProfile.balance-accountToBuy.price,newOrderId=push(ref(db,"orders")).key,updates={};updates[`/users/${currentUser.uid}/balance`]=newBalance;updates[`/users/${currentUser.uid}/purchasedAccounts/${accountId}`]=accountToBuy;updates[`/accounts/${accountId}`]=null;updates[`/orders/${newOrderId}`]={userId:currentUser.uid,userName:userProfile.name,account:accountToBuy,price:accountToBuy.price,createdAt:serverTimestamp()};try{await update(ref(db),updates);renderOrderDetails(accountToBuy,newOrderId);showPage("orderDetails")}catch(e){alert(`‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: ${e.message}`)}}};
        const renderOrderDetails=(account,orderId)=>{document.getElementById("orderId").innerText=orderId,document.getElementById("orderPrice").innerText=`‡ß≥${account.price}`,document.getElementById("orderEmail").innerText=account.email,document.getElementById("orderPassword").innerText=account.password;const loginUrls={Gmail:"https://mail.google.com",Facebook:"https://facebook.com",Instagram:"https://instagram.com"};document.getElementById("goToLoginBtn").href=loginUrls[account.type]||"#"};
        const renderHistory=(snapshot,tableId,rowFormatter)=>{const tableBody=document.getElementById(tableId).querySelector("tbody");tableBody.innerHTML="";if(!snapshot.exists()){tableBody.innerHTML=`<tr><td colspan="4" style="text-align:center;">‡¶ï‡ßã‡¶®‡ßã ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶®‡ßá‡¶á‡•§</td></tr>`; return;}let items=[];snapshot.forEach(child=>items.push({id:child.key,...child.val()}));items.reverse().forEach(item=>tableBody.innerHTML+=rowFormatter(item))};const formatDepositRow=item=>`<tr><td>${new Date(item.createdAt).toLocaleDateString("bn-BD")}</td><td>‡ß≥${item.amount}</td><td>${item.trxId}</td><td class="status-${item.status}">${item.status}</td></tr>`;const formatOrderRow=item=>`<tr><td>...${item.id.slice(-6)}</td><td>${item.account.type}</td><td>‡ß≥${item.price}</td><td>${new Date(item.createdAt).toLocaleDateString("bn-BD")}</td></tr>`;
        const renderReferralHistory=()=>{const tableBody=document.getElementById("referralHistoryBody");tableBody.innerHTML="";const history=userProfile.referralHistory;if(!history){tableBody.innerHTML='<tr><td colspan="3" style="text-align:center;">‡¶ï‡ßã‡¶®‡ßã ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶®‡ßá‡¶á‡•§</td></tr>'; return;}Object.values(history).reverse().forEach(item=>{tableBody.innerHTML+=`<tr><td>${new Date(item.timestamp).toLocaleDateString("bn-BD")}</td><td>${item.referredUserName}</td><td>‡ß≥${item.bonusAmount}</td></tr>`})};
        document.getElementById("depositForm").addEventListener("submit",function(e){e.preventDefault();const amount=parseFloat(this.depositAmount.value),trxId=this.transactionId.value;if(isNaN(amount) || amount <= 0) return alert("‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡ßü‡•§"); set(push(ref(db,"deposits")),{userId:currentUser.uid,userName:userProfile.name,amount:amount,trxId:trxId,status:"Pending",createdAt:serverTimestamp()}).then(()=>{alert("‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßÅ‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡ßã‡¶ö‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá‡•§"),this.reset()}).catch(e=>alert(`‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${e.message}`))});
        
        window.onload=()=>{
            showAuthForm('loginForm');
            document.getElementById("filterType").addEventListener("change",filterAccounts);
            document.getElementById("filterAge").addEventListener("change",filterAccounts);
            document.getElementById("filterPrice").addEventListener("input",filterAccounts);
        };
    </script>
</body>
</html>